<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>WatchNextAI ‚Ä¢ Trending</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
  <header class="topbar">
    <div class="topbar-inner">
      <a class="brand" href="{{ url_for('home') }}">
        <span class="brand-mark">üé¨</span>
        <span class="brand-name">WatchNextAI</span>
        <span class="brand-sub">Trending now, one swipe at a time</span>
      </a>

      <nav class="nav">
        <a class="nav-link is-active" href="{{ url_for('home') }}">Movies</a>
        <a class="nav-link disabled" href="#" aria-disabled="true">TV</a>
        <a class="nav-link disabled" href="#" aria-disabled="true">Live</a>
        <a class="nav-link disabled" href="#" aria-disabled="true">Series</a>
        <a class="nav-link disabled" href="#" aria-disabled="true">Regions</a>
      </nav>

      <div class="actions">
        <div class="search">
          <input id="searchInput" type="text" placeholder="Search (client-side)..." />
          <button id="searchBtn" class="icon-btn" type="button" title="Search">üîç</button>
        </div>

        <button id="themeToggle" class="btn" type="button" title="Toggle theme">
          <span class="btn-icon">üåô</span>
          <span class="btn-text">Dark</span>
        </button>
      </div>
    </div>
  </header>

  <main class="page">
    <section class="section-head">
      <h1 class="title">üî• Trending Movies</h1>
      <p class="subtitle">Scroll to load more. Click a card for details.</p>
    </section>

    {% if error_message %}
      <div class="alert">{{ error_message }}</div>
    {% endif %}

    <section id="movieGrid" class="grid" aria-label="Trending movies">
      {% for movie in movies %}
        <article class="card" data-title="{{ (movie.title or '')|lower }}">
          <a class="card-link" href="/movie/{{ movie.id }}">
            <div class="poster">
              <img
                loading="lazy"
                src="{% if movie.poster_path %}https://image.tmdb.org/t/p/w500{{ movie.poster_path }}{% else %}https://via.placeholder.com/500x750?text=No+Image{% endif %}"
                alt="{{ movie.title }}"
              />
            </div>
            <div class="meta">
              <h3 class="movie-title">{{ movie.title }}</h3>
              <div class="row">
                <span class="badge">‚≠ê {{ "%.1f"|format(movie.vote_average or 0) }}</span>
                {% if movie.release_date %}
                  <span class="muted">{{ movie.release_date }}</span>
                {% endif %}
              </div>
            </div>
          </a>
        </article>
      {% endfor %}
    </section>

    {% if not movies %}
      <p class="empty">No movies available right now.</p>
    {% endif %}

    <div id="loading" class="loading">
      <div class="spinner" aria-hidden="true"></div>
      <span id="loadingText">Loading more movies‚Ä¶</span>
    </div>
  </main>

  <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
